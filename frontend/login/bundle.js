/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={};function t(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);const r=8192;function n(e){if(e.length<r)return btoa(String.fromCharCode(...e));let t="";for(var n=0;n<e.length;n+=r){const i=e.slice(n,n+r);t+=String.fromCharCode(...i)}return btoa(t)}const i=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){const n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw new TypeError(n+" is ambiguous");t[i]=r}const r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function a(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,a=0,o=0;for(;e[s]===n;)a++,s++;const u=(e.length-s)*i+1>>>0,c=new Uint8Array(u);for(;e[s];){let n=t[e.charCodeAt(s)];if(255===n)return;let i=0;for(let e=u-1;(0!==n||i<o)&&-1!==e;e--,i++)n+=r*c[e]>>>0,c[e]=n%256>>>0,n=n/256>>>0;if(0!==n)throw new Error("Non-zero carry");o=i,s++}let l=u-o;for(;l!==u&&0===c[l];)l++;const d=new Uint8Array(a+(u-l));let h=a;for(;l!==u;)d[h++]=c[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,a=0,o=0;const u=t.length;for(;o!==u&&0===t[o];)o++,i++;const c=(u-o)*s+1>>>0,l=new Uint8Array(c);for(;o!==u;){let e=t[o],n=0;for(let t=c-1;(0!==e||n<a)&&-1!==t;t--,n++)e+=256*l[t]>>>0,l[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw new Error("Non-zero carry");a=n,o++}let d=c-a;for(;d!==c&&0===l[d];)d++;let h=n.repeat(i);for(;d<c;++d)h+=e.charAt(l[d]);return h},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),s=e=>i.encode(e),a=e=>i.decode(e);function o(e){const t=e.startsWith("0x")?e.slice(2):e,r=t.length%2==0?t:`0${t}}`,n=r.match(/.{2}/g)?.map((e=>parseInt(e,16)))??[];return Uint8Array.from(n)}function u(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}function c(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}class l{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){let e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){let e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=function(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(127&i)<<r,!(128&i))break;r+=7}return{value:t,length:n}}(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}}class d{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return h(BigInt(e),8).forEach((e=>this.write8(e))),this}write128(e){return h(BigInt(e),16).forEach((e=>this.write8(e))),this}write256(e){return h(BigInt(e),32).forEach((e=>this.write8(e))),this}writeULEB(e){return c(e).forEach((e=>this.write8(e))),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach(((r,n)=>t(this,r,n,e.length))),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return function(e,t){switch(t){case"base58":return s(e);case"base64":return n(e);case"hex":return u(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),e)}}function h(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e/=BigInt(256),n+=1;return r}var p,f,m,y,g=e=>{throw TypeError(e)},w=(e,t,r)=>t.has(e)||g("Cannot "+r),v=(e,t,r)=>(w(e,t,"read from private field"),r?r.call(e):t.get(e)),b=(e,t,r)=>t.has(e)?g("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),S=(e,t,r,n)=>(w(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);p=new WeakMap,f=new WeakMap;let E=class e{constructor(e){b(this,p),b(this,f),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),S(this,p,e.write),S(this,f,e.serialize??((e,t)=>{const r=new d({initialSize:this.serializedSize(e)??void 0,...t});return v(this,p).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),v(this,p).call(this,e,t)}serialize(e,t){return this.validate(e),new x(this,v(this,f).call(this,e,t))}parse(e){const t=new l(e);return this.read(t)}fromHex(e){return this.parse(o(e))}fromBase58(e){return this.parse(a(e))}fromBase64(e){return this.parse(t(e))}transform({name:t,input:r,output:n,validate:i}){return new e({name:t??this.name,read:e=>n(this.read(e)),write:(e,t)=>v(this,p).call(this,r(e),t),serializedSize:e=>this.serializedSize(r(e)),serialize:(e,t)=>v(this,f).call(this,r(e),t),validate:e=>{i?.(e),this.validate(r(e))}})}};const k=Symbol.for("@mysten/serialized-bcs");class x{constructor(e,t){b(this,m),b(this,y),S(this,m,e),S(this,y,t)}get[k](){return!0}toBytes(){return v(this,y)}toHex(){return u(v(this,y))}toBase64(){return n(v(this,y))}toBase58(){return s(v(this,y))}parse(){return v(this,m).parse(v(this,y))}}function T({size:e,...t}){return new E({...t,serializedSize:()=>e})}function O({readMethod:e,writeMethod:t,...r}){return T({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function I({readMethod:e,writeMethod:t,...r}){return T({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{const t=BigInt(e);if(t<0||t>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}function j(e){const t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function M(e,t,r,n,i){const s=i&&"input"in i?i.input:r.value,a=i?.expected??e.expects??null,o=i?.received??j(s),u={kind:e.kind,type:e.type,input:s,expected:a,received:o,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${o}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c="schema"===e.kind,l=i?.message??e.message??(e.reference,void u.lang)??(c?void u.lang:null)??n.message??void u.lang;l&&(u.message="function"==typeof l?l(u):l),c&&(r.typed=!1),r.issues?r.issues.push(u):r.issues=[u]}function A(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}m=new WeakMap,y=new WeakMap;var B=class extends Error{issues;constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function P(e,t){return{kind:"validation",type:"check",reference:P,async:!1,expects:null,requirement:e,message:t,_run(e,t){return e.typed&&!this.requirement(e.value)&&M(this,"input",e,t),e}}}function C(e){return{kind:"validation",type:"integer",reference:C,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&M(this,"integer",e,t),e}}}function _(e){return{kind:"transformation",type:"transform",reference:_,async:!1,operation:e,_run(e){return e.value=this.operation(e.value),e}}}function z(e,t,r){return"function"==typeof e.default?e.default(t,r):e.default}function U(e,t){return{kind:"schema",type:"array",reference:U,expects:"Array",async:!1,item:e,message:t,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<r.length;n++){const i=r[n],s=this.item._run({typed:!1,value:i},t);if(s.issues){const a={type:"array",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else M(this,"type",e,t);return e}}}function $(e){return{kind:"schema",type:"lazy",reference:$,expects:"unknown",async:!1,getter:e,_run(e,t){return this.getter(e.value)._run(e,t)}}}function N(e,t){return{kind:"schema",type:"literal",reference:N,expects:j(e),async:!1,literal:e,message:t,_run(e,t){return e.value===this.literal?e.typed=!0:M(this,"type",e,t),e}}}function q(e,...t){const r={kind:"schema",type:"nullable",reference:q,expects:`${e.expects} | null`,async:!1,wrapped:e,_run(e,t){return null===e.value&&("default"in this&&(e.value=z(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function V(e,...t){const r={kind:"schema",type:"nullish",reference:V,expects:`${e.expects} | null | undefined`,async:!1,wrapped:e,_run(e,t){return null!==e.value&&void 0!==e.value||("default"in this&&(e.value=z(this,e,t)),null!==e.value&&void 0!==e.value)?this.wrapped._run(e,t):(e.typed=!0,e)}};return 0 in t&&(r.default=t[0]),r}function L(e){return{kind:"schema",type:"number",reference:L,expects:"number",async:!1,message:e,_run(e,t){return"number"!=typeof e.value||isNaN(e.value)?M(this,"type",e,t):e.typed=!0,e}}}function D(e,t){return{kind:"schema",type:"object",reference:D,expects:"Object",async:!1,entries:e,message:t,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in this.entries){const i=r[n],s=this.entries[n]._run({typed:!1,value:i},t);if(s.issues){const a={type:"object",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),(void 0!==s.value||n in r)&&(e.value[n]=s.value)}}else M(this,"type",e,t);return e}}}function W(e,...t){const r={kind:"schema",type:"optional",reference:W,expects:`${e.expects} | undefined`,async:!1,wrapped:e,_run(e,t){return void 0===e.value&&("default"in this&&(e.value=z(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function F(e,t,r){return{kind:"schema",type:"record",reference:F,expects:"Object",async:!1,key:e,value:t,message:r,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in r)if(A(r,n)){const i=r[n],s=this.key._run({typed:!1,value:n},t);if(s.issues){const a={type:"object",origin:"key",input:r,key:n,value:i};for(const t of s.issues)t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}const a=this.value._run({typed:!1,value:i},t);if(a.issues){const s={type:"object",origin:"value",input:r,key:n,value:i};for(const t of a.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}s.typed&&a.typed||(e.typed=!1),s.typed&&(e.value[s.value]=a.value)}}else M(this,"type",e,t);return e}}}function R(e){return{kind:"schema",type:"string",reference:R,expects:"string",async:!1,message:e,_run(e,t){return"string"==typeof e.value?e.typed=!0:M(this,"type",e,t),e}}}function G(e){let t;if(e)for(const r of e)t?t.push(...r.issues):t=r.issues;return t}function K(e,t){return{kind:"schema",type:"union",reference:K,expects:[...new Set(e.map((e=>e.expects)))].join(" | ")||"never",async:!1,options:e,message:t,_run(e,t){let r,n,i;for(const s of this.options){const a=s._run({typed:!1,value:e.value},t);if(a.typed){if(!a.issues){r=a;break}n?n.push(a):n=[a]}else i?i.push(a):i=[a]}if(r)return r;if(n){if(1===n.length)return n[0];M(this,"type",e,t,{issues:G(n)}),e.typed=!0}else{if(1===i?.length)return i[0];M(this,"type",e,t,{issues:G(i)})}return e}}}function H(){return{kind:"schema",type:"unknown",reference:H,expects:"unknown",async:!1,_run:e=>(e.typed=!0,e)}}function J(e,t,r){const n=e._run({typed:!1,value:t},function(e){return{lang:e?.lang??void 0,message:e?.message,abortEarly:e?.abortEarly??void 0,abortPipeEarly:e?.abortPipeEarly??void 0}}(r));if(n.issues)throw new B(n.issues);return n.value}function Y(...e){return{...e[0],pipe:e,_run(t,r){for(let n=0;n<e.length;n++){if(t.issues&&("schema"===e[n].kind||"transformation"===e[n].kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=e[n]._run(t,r))}return t}}}function Z(e){try{return 32===a(e).length}catch(e){return!1}}function X(e){return function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2==0}(e)&&32===function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(e)}function Q(e){return X(e)}function ee(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(64,"0")}`}function te(e,t=!1){return ee(e,t)}function re(e){return Y(K(Object.entries(e).map((([e,t])=>D({[e]:t})))),_((e=>({...e,$kind:Object.keys(e)[0]}))))}const ne=Y(R(),_((e=>ee(e))),P(X)),ie=ne,se=R(),ae=Y(K([R(),Y(L(),C())]),P((e=>{try{return BigInt(e),BigInt(e)>=0&&BigInt(e)<=18446744073709551615n}catch{return!1}}),"Invalid u64")),oe=D({objectId:ne,version:ae,digest:R()}),ue=Y(K([D({GasCoin:N(!0)}),D({Input:Y(L(),C()),type:W(N("pure"))}),D({Input:Y(L(),C()),type:W(N("object"))}),D({Result:Y(L(),C())}),D({NestedResult:function e(t,r){return{kind:"schema",type:"tuple",reference:e,expects:"Array",async:!1,items:t,message:r,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<this.items.length;n++){const i=r[n],s=this.items[n]._run({typed:!1,value:i},t);if(s.issues){const a={type:"array",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else M(this,"type",e,t);return e}}}([Y(L(),C()),Y(L(),C())])})]),_((e=>({...e,$kind:Object.keys(e)[0]})))),ce=D({budget:q(ae),price:q(ae),owner:q(ne),payment:q(U(oe))}),le=(D({address:R(),module:R(),name:R(),typeParams:U(R())}),K([N("address"),N("bool"),N("u8"),N("u16"),N("u32"),N("u64"),N("u128"),N("u256"),D({vector:$((()=>le))}),D({datatype:D({package:R(),module:R(),type:R(),typeParameters:U($((()=>le)))})}),D({typeParameter:Y(L(),C())})])),de=D({ref:q(K([N("&"),N("&mut")])),body:le}),he=D({package:ie,module:R(),function:R(),typeArguments:U(R()),arguments:U(ue),_argumentTypes:W(q(U(de)))}),pe=D({name:R(),inputs:F(R(),K([ue,U(ue)])),data:F(R(),H())}),fe=re({MoveCall:he,TransferObjects:D({objects:U(ue),address:ue}),SplitCoins:D({coin:ue,amounts:U(ue)}),MergeCoins:D({destination:ue,sources:U(ue)}),Publish:D({modules:U(se),dependencies:U(ie)}),MakeMoveVec:D({type:q(R()),elements:U(ue)}),Upgrade:D({modules:U(se),dependencies:U(ie),package:ie,ticket:ue}),$Intent:pe}),me=re({ImmOrOwnedObject:oe,SharedObject:D({objectId:ie,initialSharedVersion:ae,mutable:function e(t){return{kind:"schema",type:"boolean",reference:e,expects:"boolean",async:!1,message:t,_run(e,t){return"boolean"==typeof e.value?e.typed=!0:M(this,"type",e,t),e}}}()}),Receiving:oe}),ye=re({Object:me,Pure:D({bytes:se}),UnresolvedPure:D({value:H()}),UnresolvedObject:D({objectId:ie,version:W(q(ae)),digest:W(q(R())),initialSharedVersion:W(q(ae))})}),ge=(re({Object:me,Pure:D({bytes:se})}),re({None:N(!0),Epoch:ae})),we=(D({version:N(2),sender:V(ne),expiration:V(ge),gasData:ce,inputs:U(ye),commands:U(fe)}),{u8:e=>O({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>O({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>O({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e}),u64:e=>I({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>I({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>I({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>T({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw new TypeError("Expected boolean, found "+typeof t)}}),uleb128:e=>function({serialize:e,...t}){const r=new E({...t,serialize:e,write:(e,t)=>{for(const n of r.serialize(e).toBytes())t.write8(n)}});return r}({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(c(e)),...e}),bytes:(e,t)=>T({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{for(let n=0;n<e;n++)r.write8(t[n]??0)},...t,validate:r=>{if(t?.validate?.(r),!r||"object"!=typeof r||!("length"in r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}}),string:e=>function({toBytes:e,fromBytes:t,...r}){return new E({...r,read:e=>{const r=e.readULEB(),n=e.readBytes(r);return t(n)},write:(t,r)=>{const n=e(t);r.writeULEB(n.length);for(let e=0;e<n.length;e++)r.write8(n[e])},serialize:t=>{const r=e(t),n=c(r.length),i=new Uint8Array(n.length+r.length);return i.set(n,0),i.set(r,n.length),i},validate:e=>{if("string"!=typeof e)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}({name:"string",toBytes:e=>(new TextEncoder).encode(e),fromBytes:e=>(new TextDecoder).decode(e),...e}),fixedArray:(e,t,r)=>new E({name:`${t.name}[${e}]`,read:r=>{const n=new Array(e);for(let i=0;i<e;i++)n[i]=t.read(r);return n},write:(e,r)=>{for(const n of e)t.write(n,r)},...r,validate:t=>{if(r?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e)throw new TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>we.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"===e.$kind?e.Some:null}),vector:(e,t)=>new E({name:`vector<${e.name}>`,read:t=>{const r=t.readULEB(),n=new Array(r);for(let i=0;i<r;i++)n[i]=e.read(t);return n},write:(t,r)=>{r.writeULEB(t.length);for(const n of t)e.write(n,r)},...t,validate:e=>{if(t?.validate?.(e),!e||"object"!=typeof e||!("length"in e))throw new TypeError("Expected array, found "+typeof e)}}),tuple:(e,t)=>new E({name:`(${e.map((e=>e.name)).join(", ")})`,serializedSize:t=>{let r=0;for(let n=0;n<e.length;n++){const i=e[n].serializedSize(t[n]);if(null==i)return null;r+=i}return r},read:t=>{const r=[];for(const n of e)r.push(n.read(t));return r},write:(t,r)=>{for(let n=0;n<e.length;n++)e[n].write(t[n],r)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){const n=Object.entries(t);return new E({name:e,serializedSize:e=>{let t=0;for(const[r,i]of n){const n=i.serializedSize(e[r]);if(null==n)return null;t+=n}return t},read:e=>{const t={};for(const[r,i]of n)t[r]=i.read(e);return t},write:(e,t)=>{for(const[r,i]of n)i.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e)}})},enum(e,t,r){const n=Object.entries(t);return new E({name:e,read:t=>{const r=t.readULEB(),i=n[r];if(!i)throw new TypeError(`Unknown value ${r} for enum ${e}`);const[s,a]=i;return{[s]:a?.read(t)??!0,$kind:s}},write:(e,r)=>{const[i,s]=Object.entries(e).filter((([e])=>Object.hasOwn(t,e)))[0];for(let e=0;e<n.length;e++){const[t,a]=n[e];if(t===i)return r.writeULEB(e),void a?.write(s,r)}},...r,validate:n=>{if(r?.validate?.(n),"object"!=typeof n||null==n)throw new TypeError("Expected object, found "+typeof n);const i=Object.keys(n).filter((e=>void 0!==n[e]&&Object.hasOwn(t,e)));if(1!==i.length)throw new TypeError(`Expected object with one key, but found ${i.length} for type ${e}}`);const[s]=i;if(!Object.hasOwn(t,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map:(e,t)=>we.vector(we.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const t=new Map;for(const[r,n]of e)t.set(r,n);return t}}),lazy:e=>function(e){let t=null;function r(){return t||(t=e()),t}return new E({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}(e)}),ve=/^vector<(.+)>$/,be=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class Se{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const r=e.match(ve);if(r)return{vector:Se.parseFromStr(r[1],t)};const n=e.match(be);if(n)return{struct:{address:t?ee(n[1]):n[1],module:n[2],name:n[3],typeParams:void 0===n[5]?[]:Se.parseStructTypeArgs(n[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return function(e,t=["<",">"]){const[r,n]=t,i=[];let s="",a=0;for(let t=0;t<e.length;t++){const o=e[t];o===r&&a++,o===n&&a--,0!==a||","!==o?s+=o:(i.push(s.trim()),s="")}return i.push(s.trim()),i}(e).map((e=>Se.parseFromStr(e,t)))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${Se.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,r=t.typeParams.map(Se.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}const Ee=we.bytes(32).transform({validate:e=>{const t="string"==typeof e?e:u(e);if(!t||!X(ee(t)))throw new Error(`Invalid Sui address ${t}`)},input:e=>"string"==typeof e?o(ee(e)):e,output:e=>ee(u(e))}),ke=we.vector(we.u8()).transform({name:"ObjectDigest",input:e=>a(e),output:e=>s(new Uint8Array(e)),validate:e=>{if(32!==a(e).length)throw new Error("ObjectDigest must be 32 bytes")}}),xe=we.struct("SuiObjectRef",{objectId:Ee,version:we.u64(),digest:ke}),Te=we.struct("SharedObjectRef",{objectId:Ee,initialSharedVersion:we.u64(),mutable:we.bool()}),Oe=we.enum("ObjectArg",{ImmOrOwnedObject:xe,SharedObject:Te,Receiving:xe}),Ie=we.enum("CallArg",{Pure:we.struct("Pure",{bytes:we.vector(we.u8()).transform({input:e=>"string"==typeof e?t(e):e,output:e=>n(new Uint8Array(e))})}),Object:Oe}),je=we.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:we.lazy((()=>je)),struct:we.lazy((()=>$e)),u16:null,u32:null,u256:null}),Me=je.transform({input:e=>"string"==typeof e?Se.parseFromStr(e,!0):e,output:e=>Se.tagToString(e)}),Ae=we.enum("Argument",{GasCoin:null,Input:we.u16(),Result:we.u16(),NestedResult:we.tuple([we.u16(),we.u16()])}),Be=we.struct("ProgrammableMoveCall",{package:Ee,module:we.string(),function:we.string(),typeArguments:we.vector(Me),arguments:we.vector(Ae)}),Pe=we.enum("Command",{MoveCall:Be,TransferObjects:we.struct("TransferObjects",{objects:we.vector(Ae),address:Ae}),SplitCoins:we.struct("SplitCoins",{coin:Ae,amounts:we.vector(Ae)}),MergeCoins:we.struct("MergeCoins",{destination:Ae,sources:we.vector(Ae)}),Publish:we.struct("Publish",{modules:we.vector(we.vector(we.u8()).transform({input:e=>"string"==typeof e?t(e):e,output:e=>n(new Uint8Array(e))})),dependencies:we.vector(Ee)}),MakeMoveVec:we.struct("MakeMoveVec",{type:(Ce=Me,we.enum("Option",{None:null,Some:Ce})).transform({input:e=>null===e?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:we.vector(Ae)}),Upgrade:we.struct("Upgrade",{modules:we.vector(we.vector(we.u8()).transform({input:e=>"string"==typeof e?t(e):e,output:e=>n(new Uint8Array(e))})),dependencies:we.vector(Ee),package:Ee,ticket:Ae})});var Ce;const _e=we.struct("ProgrammableTransaction",{inputs:we.vector(Ie),commands:we.vector(Pe)}),ze=we.enum("TransactionKind",{ProgrammableTransaction:_e,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),Ue=we.enum("TransactionExpiration",{None:null,Epoch:we.u64({name:"unsafe_u64"}).transform({input:e=>e,output:e=>Number(e)})});const $e=we.struct("StructTag",{address:Ee,module:we.string(),name:we.string(),typeParams:we.vector(je)}),Ne=we.struct("GasData",{payment:we.vector(xe),owner:Ee,price:we.u64(),budget:we.u64()}),qe=we.struct("TransactionDataV1",{kind:ze,sender:Ee,gasData:Ne,expiration:Ue}),Ve=we.enum("TransactionData",{V1:qe}),Le=we.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),De=we.enum("IntentVersion",{V0:null}),We=we.enum("AppId",{Sui:null}),Fe=we.struct("Intent",{scope:Le,version:De,appId:We});function Re(e){return we.struct(`IntentMessage<${e.name}>`,{intent:Fe,value:e})}const Ge=we.enum("CompressedSignature",{ED25519:we.fixedArray(64,we.u8()),Secp256k1:we.fixedArray(64,we.u8()),Secp256r1:we.fixedArray(64,we.u8()),ZkLogin:we.vector(we.u8())}),Ke=we.enum("PublicKey",{ED25519:we.fixedArray(32,we.u8()),Secp256k1:we.fixedArray(33,we.u8()),Secp256r1:we.fixedArray(33,we.u8()),ZkLogin:we.vector(we.u8())}),He=we.struct("MultiSigPkMap",{pubKey:Ke,weight:we.u8()}),Je=we.struct("MultiSigPublicKey",{pk_map:we.vector(He),threshold:we.u16()}),Ye=we.struct("MultiSig",{sigs:we.vector(Ge),bitmap:we.u16(),multisig_pk:Je}),Ze=we.vector(we.u8()).transform({input:e=>"string"==typeof e?t(e):e,output:e=>n(new Uint8Array(e))}),Xe=we.struct("SenderSignedTransaction",{intentMessage:Re(Ve),txSignatures:we.vector(Ze)}),Qe=we.vector(Xe,{name:"SenderSignedData"}),et=we.enum("PackageUpgradeError",{UnableToFetchPackage:we.struct("UnableToFetchPackage",{packageId:Ee}),NotAPackage:we.struct("NotAPackage",{objectId:Ee}),IncompatibleUpgrade:null,DigestDoesNotMatch:we.struct("DigestDoesNotMatch",{digest:we.vector(we.u8())}),UnknownUpgradePolicy:we.struct("UnknownUpgradePolicy",{policy:we.u8()}),PackageIDDoesNotMatch:we.struct("PackageIDDoesNotMatch",{packageId:Ee,ticketId:Ee})}),tt=we.struct("ModuleId",{address:Ee,name:we.string()}),rt=we.struct("MoveLocation",{module:tt,function:we.u16(),instruction:we.u16(),functionName:we.option(we.string())}),nt=we.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:we.struct("IndexOutOfBounds",{idx:we.u16()}),SecondaryIndexOutOfBounds:we.struct("SecondaryIndexOutOfBounds",{resultIdx:we.u16(),secondaryIdx:we.u16()}),InvalidResultArity:we.struct("InvalidResultArity",{resultIdx:we.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),it=we.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),st=we.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:we.struct("MoveObjectTooBig",{objectSize:we.u64(),maxObjectSize:we.u64()}),MovePackageTooBig:we.struct("MovePackageTooBig",{objectSize:we.u64(),maxObjectSize:we.u64()}),CircularObjectOwnership:we.struct("CircularObjectOwnership",{object:Ee}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:we.option(rt),MoveAbort:we.tuple([rt,we.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:we.struct("CommandArgumentError",{argIdx:we.u16(),kind:nt}),TypeArgumentError:we.struct("TypeArgumentError",{argumentIdx:we.u16(),kind:it}),UnusedValueWithoutDrop:we.struct("UnusedValueWithoutDrop",{resultIdx:we.u16(),secondaryIdx:we.u16()}),InvalidPublicFunctionReturnType:we.struct("InvalidPublicFunctionReturnType",{idx:we.u16()}),InvalidTransferObject:null,EffectsTooLarge:we.struct("EffectsTooLarge",{currentSize:we.u64(),maxSize:we.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:we.struct("PackageUpgradeError",{upgradeError:et}),WrittenObjectsTooLarge:we.struct("WrittenObjectsTooLarge",{currentSize:we.u64(),maxSize:we.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:we.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:we.vector(Ee)}),AddressDeniedForCoin:we.struct("AddressDeniedForCoin",{address:Ee,coinType:we.string()}),CoinTypeGlobalPause:we.struct("CoinTypeGlobalPause",{coinType:we.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),at=we.enum("ExecutionStatus",{Success:null,Failed:we.struct("ExecutionFailed",{error:st,command:we.option(we.u64())})}),ot=we.struct("GasCostSummary",{computationCost:we.u64(),storageCost:we.u64(),storageRebate:we.u64(),nonRefundableStorageFee:we.u64()}),ut=we.enum("Owner",{AddressOwner:Ee,ObjectOwner:Ee,Shared:we.struct("Shared",{initialSharedVersion:we.u64()}),Immutable:null}),ct=we.struct("TransactionEffectsV1",{status:at,executedEpoch:we.u64(),gasUsed:ot,modifiedAtVersions:we.vector(we.tuple([Ee,we.u64()])),sharedObjects:we.vector(xe),transactionDigest:ke,created:we.vector(we.tuple([xe,ut])),mutated:we.vector(we.tuple([xe,ut])),unwrapped:we.vector(we.tuple([xe,ut])),deleted:we.vector(xe),unwrappedThenDeleted:we.vector(xe),wrapped:we.vector(xe),gasObject:we.tuple([xe,ut]),eventsDigest:we.option(ke),dependencies:we.vector(ke)}),lt=we.tuple([we.u64(),ke]),dt=we.enum("ObjectIn",{NotExist:null,Exist:we.tuple([lt,ut])}),ht=we.enum("ObjectOut",{NotExist:null,ObjectWrite:we.tuple([ke,ut]),PackageWrite:lt}),pt=we.enum("IDOperation",{None:null,Created:null,Deleted:null}),ft=we.struct("EffectsObjectChange",{inputState:dt,outputState:ht,idOperation:pt}),mt=we.enum("UnchangedSharedKind",{ReadOnlyRoot:lt,MutateDeleted:we.u64(),ReadDeleted:we.u64(),Cancelled:we.u64(),PerEpochConfig:null}),yt=we.struct("TransactionEffectsV2",{status:at,executedEpoch:we.u64(),gasUsed:ot,transactionDigest:ke,gasObjectIndex:we.option(we.u32()),eventsDigest:we.option(ke),dependencies:we.vector(ke),lamportVersion:we.u64(),changedObjects:we.vector(we.tuple([Ee,ft])),unchangedSharedObjects:we.vector(we.tuple([Ee,mt])),auxDataDigest:we.option(ke)}),gt=we.enum("TransactionEffects",{V1:ct,V2:yt});we.u8(),we.u16(),we.u32(),we.u64(),we.u128(),we.u256(),we.uleb128(),we.bool(),we.string(),BigInt(1e9),te("0x6");te("0x5");var wt,vt=(e,t,r)=>t.has(e)||(e=>{throw TypeError(e)})("Cannot "+r);const bt=Symbol.for("@mysten/transaction");Symbol.for("@mysten/transaction/registry"),new WeakMap,new WeakMap,new WeakMap,wt=new WeakMap,new WeakSet;const St=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,Et=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,kt={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class xt extends Error{}class Tt extends xt{constructor(e,t){super(e),this.code=t,this.type=kt[t]??"ServerError"}}class Ot extends xt{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}var It,jt,Mt,At,Bt,Pt,Ct,_t,zt,Ut=e=>{throw TypeError(e)},$t=(e,t,r)=>t.has(e)||Ut("Cannot "+r),Nt=(e,t,r)=>($t(e,t,"read from private field"),r?r.call(e):t.get(e)),qt=(e,t,r)=>t.has(e)?Ut("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Vt=(e,t,r,n)=>($t(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Lt=(e,t,r)=>($t(e,t,"access private method"),r);const Dt={WebSocketConstructor:"undefined"!=typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class Wt{constructor(e,t={}){if(qt(this,Ct),qt(this,It,0),qt(this,jt,0),qt(this,Mt,null),qt(this,At,null),qt(this,Bt,new Set),qt(this,Pt,new Map),this.endpoint=e,this.options={...Dt,...t},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){const t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t){const r=await Lt(this,Ct,_t).call(this);return new Promise(((n,i)=>{Vt(this,It,Nt(this,It)+1),Nt(this,Pt).set(Nt(this,It),{resolve:n,reject:i,timeout:setTimeout((()=>{Nt(this,Pt).delete(Nt(this,It)),i(new Error(`Request timeout: ${e}`))}),this.options.callTimeout)}),r.send(JSON.stringify({jsonrpc:"2.0",id:Nt(this,It),method:e,params:t}))})).then((({error:e,result:t})=>{if(e)throw new Tt(e.message,e.code);return t}))}async subscribe(e){const t=new Ft(e);return Nt(this,Bt).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}It=new WeakMap,jt=new WeakMap,Mt=new WeakMap,At=new WeakMap,Bt=new WeakMap,Pt=new WeakMap,Ct=new WeakSet,_t=function(){return Nt(this,At)||Vt(this,At,new Promise((e=>{Nt(this,Mt)?.close(),Vt(this,Mt,new this.options.WebSocketConstructor(this.endpoint)),Nt(this,Mt).addEventListener("open",(()=>{Vt(this,jt,0),e(Nt(this,Mt))})),Nt(this,Mt).addEventListener("close",(()=>{var e,t;(e=this,t=jt,{set _(r){Vt(e,t,r,undefined)},get _(){return Nt(e,t,undefined)}})._++,Nt(this,jt)<=this.options.maxReconnects&&setTimeout((()=>{Lt(this,Ct,zt).call(this)}),this.options.reconnectTimeout)})),Nt(this,Mt).addEventListener("message",(({data:e})=>{let t;try{t=JSON.parse(e)}catch(t){return void console.error(new Error(`Failed to parse RPC message: ${e}`,{cause:t}))}if("id"in t&&null!=t.id&&Nt(this,Pt).has(t.id)){const{resolve:e,timeout:r}=Nt(this,Pt).get(t.id);clearTimeout(r),e(t)}else if("params"in t){const{params:e}=t;Nt(this,Bt).forEach((t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)}))}}))}))),Nt(this,At)},zt=async function(){return Nt(this,Mt)?.close(),Vt(this,At,null),Promise.allSettled([...Nt(this,Bt)].map((e=>e.subscribe(this))))};class Ft{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const t=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=t)}}var Rt,Gt,Kt,Ht,Jt,Yt=e=>{throw TypeError(e)},Zt=(e,t,r)=>t.has(e)||Yt("Cannot "+r),Xt=(e,t,r)=>(Zt(e,t,"read from private field"),r?r.call(e):t.get(e)),Qt=(e,t,r)=>t.has(e)?Yt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),er=(e,t,r,n)=>(Zt(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);class tr{constructor(e){Qt(this,Ht),Qt(this,Rt,0),Qt(this,Gt),Qt(this,Kt),er(this,Gt,e)}fetch(e,t){const r=Xt(this,Gt).fetch??fetch;if(!r)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,t)}async request(e){er(this,Rt,Xt(this,Rt)+1);const t=await this.fetch(Xt(this,Gt).rpc?.url??Xt(this,Gt).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"1.14.1","Client-Target-Api-Version":"1.38.0",...Xt(this,Gt).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:Xt(this,Rt),method:e.method,params:e.params})});if(!t.ok)throw new Ot(`Unexpected status code: ${t.status}`,t.status,t.statusText);const r=await t.json();if("error"in r&&null!=r.error)throw new Tt(r.error.message,r.error.code);return r.result}async subscribe(e){const t=await(r=Ht,n=Jt,Zt(this,r,"access private method"),n).call(this).subscribe(e);var r,n;return async()=>!!await t()}}Rt=new WeakMap,Gt=new WeakMap,Kt=new WeakMap,Ht=new WeakSet,Jt=function(){if(!Xt(this,Kt)){const e=Xt(this,Gt).WebSocketConstructor??WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");er(this,Kt,new Wt(Xt(this,Gt).websocket?.url??Xt(this,Gt).url,{WebSocketConstructor:e,...Xt(this,Gt).websocket}))}return Xt(this,Kt)};const rr=Symbol.for("@mysten/SuiClient");class nr{get[rr](){return!0}constructor(e){this.transport=e.transport??new tr({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!X(ee(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!X(ee(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!X(ee(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!X(ee(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,t){return await this.transport.request({method:e,params:t})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!X(ee(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!Q(te(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach((e=>{if(!e||!Q(te(e)))throw new Error(`Invalid Sui Object id ${e}`)})),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")]})}async getTransactionBlock(e){if(!Z(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach((e=>{if(!Z(e))throw new Error(`Invalid Transaction digest ${e}`)})),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock({transactionBlock:e,signature:t,options:r,requestType:i}){const s=await this.transport.request({method:"sui_executeTransactionBlock",params:["string"==typeof e?e:n(e),Array.isArray(t)?t:[t],r]});if("WaitForLocalExecution"===i)try{await this.waitForTransaction({digest:s.digest})}catch(e){}return s}async signAndExecuteTransaction({transaction:e,signer:t,...r}){let n;e instanceof Uint8Array?n=e:(e.setSenderIfNotSet(t.toSuiAddress()),n=await e.build({client:this}));const{signature:i,bytes:s}=await t.signTransaction(n);return this.executeTransactionBlock({transactionBlock:s,signature:i,...r})}async getTotalTransactionBlocks(){const e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){const e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!X(ee(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach((e=>{if(!e||!Q(te(e)))throw new Error(`Invalid Sui Stake id ${e}`)})),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let t;if((r=e.transactionBlock)&&"object"==typeof r&&!0===r[bt])e.transactionBlock.setSenderIfNotSet(e.sender),t=n(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"==typeof e.transactionBlock)t=e.transactionBlock;else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction block format.");t=n(e.transactionBlock)}var r;return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,t,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:n(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!Q(te(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){const e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const e=await this.getCheckpoint({id:"0"});return u(a(e.digest).slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames({format:e="dot",...t}){const{nextCursor:r,hasNextPage:n,data:i}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[t.address,t.cursor,t.limit]});return{hasNextPage:n,nextCursor:r,data:i.map((t=>function(e,t="at"){const r=e.toLowerCase();let n;if(r.includes("@")){if(!St.test(r))throw new Error(`Invalid SuiNS name ${e}`);const[t,i]=r.split("@");n=[...t?t.split("."):[],i]}else{if(!Et.test(r))throw new Error(`Invalid SuiNS name ${e}`);n=r.split(".").slice(0,-1)}return"dot"===t?`${n.join(".")}.sui`:`${n.slice(0,-1).join(".")}@${n[n.length-1]}`}(t,e)))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version]})}async waitForTransaction({signal:e,timeout:t=6e4,pollInterval:r=2e3,...n}){const i=AbortSignal.timeout(t),s=new Promise(((e,t)=>{i.addEventListener("abort",(()=>t(i.reason)))}));for(s.catch((()=>{}));!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(n)}catch(e){await Promise.race([new Promise((e=>setTimeout(e,r))),s])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}function ir(e){switch(e){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${e}`)}}function sr(e){if(e.length<=6)return e;const t=e.startsWith("0x")?2:0;return`0x${e.slice(t,t+4)}…${e.slice(-4)}`}function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function or(){or=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var s=t&&t.prototype instanceof g?t:g,a=Object.create(s.prototype),o=new A(n||[]);return i(a,"_invoke",{value:O(e,r,o)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",f="executing",m="completed",y={};function g(){}function w(){}function v(){}var b={};c(b,a,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(B([])));E&&E!==r&&n.call(E,a)&&(b=E);var k=v.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(i,s,a,o){var u=d(e[i],e,s);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==ar(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,o)}),(function(e){r("throw",e,a,o)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,o)}))}o(u.arg)}var s;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return s=s?s.then(i,i):i()}})}function O(t,r,n){var i=h;return function(s,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===s)throw a;return{value:e,done:!0}}for(n.method=s,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var c=d(t,r,n);if("normal"===c.type){if(i=n.done?m:p,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=m,n.method="throw",n.arg=c.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var s=d(i,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,y;var a=s.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(ar(t)+" is not iterable")}return w.prototype=v,i(k,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:w,configurable:!0}),w.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},x(T.prototype),c(T.prototype,o,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,i,s){void 0===s&&(s=Promise);var a=new T(l(e,r,n,i),s);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return o.type="throw",o.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),M(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;M(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function ur(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function cr(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){ur(s,n,i,a,o,"next",e)}function o(e){ur(s,n,i,a,o,"throw",e)}a(void 0)}))}}function lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dr(n.key),n)}}function dr(e){var t=function(e){if("object"!=ar(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ar(t)?t:t+""}var hr=function(){return t=function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.client=new nr({url:ir("testnet")}),this.walletProvider=new e.WalletStandardProvider,this.currentAccount=null,this.connectButton=document.getElementById("wallet-btn"),this.statusElement=document.getElementById("wallet-status"),this.init()},r=[{key:"init",value:function(){var e=this;this.connectButton.addEventListener("click",(function(){return e.connectWallet()}))}},{key:"connectWallet",value:(i=cr(or().mark((function e(){var t,r,n,i,s;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==(t=this.walletProvider.get()).length){e.next=6;break}return this.statusElement.textContent="No Sui wallet found. Please install one.",window.open("https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil","_blank"),e.abrupt("return");case 6:return r=t[0],e.next=9,r.connect();case 9:if(!((n=e.sent).length>0)){e.next=20;break}return this.currentAccount=n[0],i=sr(this.currentAccount.address),this.statusElement.textContent="Connected: ".concat(i),this.connectButton.textContent="Connected",this.connectButton.disabled=!0,e.next=18,this.getBalance();case 18:s=e.sent,console.log("Balance:",s);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),console.error("Error connecting wallet:",e.t0),this.statusElement.textContent="Error connecting wallet. Please try again.";case 26:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(){return i.apply(this,arguments)})},{key:"getBalance",value:(n=cr(or().mark((function e(){var t;return or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentAccount){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,this.client.getBalance({owner:this.currentAccount.address});case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),console.error("Error getting balance:",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return n.apply(this,arguments)})}],r&&lr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n,i}();document.addEventListener("DOMContentLoaded",(function(){new hr}))})();